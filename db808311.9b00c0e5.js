(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{124:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return x})),n.d(t,"metadata",(function(){return D})),n.d(t,"rightToc",(function(){return P})),n.d(t,"default",(function(){return T}));var r={};n.r(r),n.d(r,"spec",(function(){return l})),n.d(r,"plugins",(function(){return p})),n.d(r,"commands",(function(){return m})),n.d(r,"defaultKeys",(function(){return v})),n.d(r,"toggleSuperscript",(function(){return g})),n.d(r,"queryIsSuperscriptActive",(function(){return b}));var o={};n.r(o),n.d(o,"spec",(function(){return y})),n.d(o,"plugins",(function(){return O})),n.d(o,"commands",(function(){return k})),n.d(o,"defaultKeys",(function(){return w})),n.d(o,"toggleSubscript",(function(){return M})),n.d(o,"queryIsSubscriptActive",(function(){return A}));var i=n(3),c=n(7),a=(n(0),n(153)),u=n.p+"57082ff1dd913bf71be01c06fe3bc9f9.jsx",s=(n.p,n(141)),d=n(140),f=n(152),l=function(e){void 0===e&&(e={});return{type:"mark",name:h,schema:{excludes:"subscript",parseDOM:[{tag:"sup"},{style:"vertical-align=super"}],toDOM:function(){return["sup",0]}}}},p=function(e){var t=(void 0===e?{}:e).keybindings,n=void 0===t?v:t;return function(e){var t;e.schema;return[n&&Object(f.b)((t={},t[n.toggleSuperscript]=g(),t))]}},m={toggleSuperscript:g,queryIsSuperscriptActive:b},v={toggleSuperscript:null},h="superscript";function g(){return function(e,t,n){return Object(s.f)(e.schema.marks.superscript)(e,t,n)}}function b(){return function(e){return Object(d.k)(e.schema.marks.superscript)(e)}}var y=function(e){void 0===e&&(e={});return{type:"mark",name:j,schema:{excludes:"superscript",parseDOM:[{tag:"sub"},{style:"vertical-align=sub"}],toDOM:function(){return["sub",0]}}}},O=function(e){var t=(void 0===e?{}:e).keybindings,n=void 0===t?w:t;return function(e){var t;e.schema;return[n&&Object(f.b)((t={},t[n.toggleSubscript]=M(),t))]}},k={toggleSubscript:M,queryIsSubscriptActive:A},w={toggleSubscript:null},j="subscript";function M(){return function(e,t,n){return Object(s.f)(e.schema.marks.subscript)(e,t,n)}}function A(){return function(e){return Object(d.k)(e.schema.marks.subscript)(e)}}n(53);var S=n(156),E=n(147);function I(e){var t=new S.b({specs:[r.spec(),o.spec()],plugins:[r.plugins({keybindings:{toggleSuperscript:"Ctrl-s"}}),o.plugins({keybindings:{toggleSubscript:"Ctrl-d"}})],initialValue:"<p>Hello there, let us see some <sup>superscript</sup> & <sub>subscript</sub>!</p>"}),n=new S.a(e,{state:t}),i=n.view;return Object(E.e)(i.state.doc)(i.state,i.dispatch),n}var C=n(191),x={title:"Text Formatting",id:"text-formatting"},D={unversionedId:"examples/text-formatting",id:"examples/text-formatting",isDocsHomePage:!1,title:"Text Formatting",description:"Superscript & Subscript",source:"@site/docs/examples/text-formatting.mdx",slug:"/examples/text-formatting",permalink:"/docs/examples/text-formatting",editUrl:"https://github.com/bangle-io/bangle.dev/edit/master/_bangle-website/docs/examples/text-formatting.mdx",version:"current",sidebar:"docs",previous:{title:"Placeholder",permalink:"/docs/examples/placeholder"},next:{title:"Basic Editor in React",permalink:"/docs/examples/react-basic-editor"}},P=[{value:"Superscript &amp; Subscript",id:"superscript--subscript",children:[]}],L={rightToc:P};function T(e){var t=e.components,n=Object(c.a)(e,["components"]);return Object(a.b)("wrapper",Object(i.a)({},L,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("h2",{id:"superscript--subscript"},"Superscript & Subscript"),Object(a.b)(C.b,{filePath:u,language:"js",createEditor:I,mdxType:"VanillaCodeExample"}),Object(a.b)("p",null,"Try some of the following things:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Press ",Object(a.b)("inlineCode",{parentName:"li"},"Ctrl-s")," to start typing in superscript or ",Object(a.b)("inlineCode",{parentName:"li"},"Ctrl-d")," for subscript, press it again to stop."),Object(a.b)("li",{parentName:"ul"},"Please note you will need to switch off (by pressing the keyboard shortcut) one first, to use other."),Object(a.b)("li",{parentName:"ul"},"Try copy pasting superscript text from your favourite source.")),Object(a.b)("p",null,"\ud83d\udcd6 See ",Object(a.b)("a",Object(i.a)({parentName:"p"},{href:"/docs/api/text_formatting#superscript-component"}),"API")," docs."))}T.isMDXComponent=!0},140:function(e,t,n){"use strict";n.d(t,"p",(function(){return a})),n.d(t,"d",(function(){return u})),n.d(t,"k",(function(){return s})),n.d(t,"t",(function(){return d})),n.d(t,"s",(function(){return f})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"m",(function(){return b})),n.d(t,"i",(function(){return y})),n.d(t,"q",(function(){return O})),n.d(t,"e",(function(){return k})),n.d(t,"n",(function(){return w})),n.d(t,"j",(function(){return j})),n.d(t,"o",(function(){return M})),n.d(t,"h",(function(){return S})),n.d(t,"c",(function(){return E})),n.d(t,"u",(function(){return I})),n.d(t,"r",(function(){return C}));var r=n(163),o=n(145),i=n(178),c=n(148);function a(){return r.safeInsert.apply(void 0,arguments)}var u=r.findParentNodeOfType;function s(e){return function(t){var n=t.selection,r=n.from,o=n.$from,i=n.to;return n.empty?Boolean(e.isInSet(t.tr.storedMarks||o.marks())):Boolean(t.doc.rangeHasMark(r,i,e))}}var d=function(e,t){return Number.isInteger(e)&&e>=0&&e<t.content.size},f=function(e,t){return[t.bulletList,t.orderedList,t.todoList].includes(e)};function l(e,t){var n=e.selection,r=n.from,o=n.to,i=[];e.doc.nodesBetween(r,o,(function(e){i=[].concat(i,e.marks)}));var c=i.find((function(e){return e.type.name===t.name}));return c?c.attrs:{}}function p(e){var t;if(e.isInline)return(t=e).isText?!!t.textContent.trim():"hardBreak"!==t.type.name;if(e.isBlock&&(e.isLeaf||e.isAtom))return!0;if(!e.childCount)return!1;for(var n=0;n<e.childCount;n++){if(p(e.child(n)))return!0}return!1}function m(e){if(e&&e.textContent)return!1;if(!e||!e.childCount||1===e.childCount&&v(e.firstChild))return!0;var t=[],n=[];return e.forEach((function(e){e.isInline?n.push(e):t.push(e)})),!n.length&&!t.filter((function(e){return!!e.childCount&&!(1===e.childCount&&v(e.firstChild))||e.isAtom})).length}function v(e){return!e||"paragraph"===e.type.name&&!e.textContent&&!e.childCount}function h(e,t){return function(n,r,o){return Array.isArray(e)||(e=[e]),!e.some((function(e){return!e(n,o)}))&&(t(n,r,o)||!1)}}function g(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function b(e,t,n,r){return 0===function(e,t,n){var r=[],o=function(e,t){var n=["blockquote","bulletList","orderedList"];if(1===t.depth)return t;var r=t.node(t.depth),o=t;for(;t.depth>=1;)(r=(t=e.resolve(t.before(t.depth))).node(t.depth))&&-1!==n.indexOf(r.type.name)&&(o=t);return o}(e,t).depth,i=e.resolve(t.start(o));for(;i.pos<=n.start(n.depth);){var c=Math.min(i.depth,o),a=i.node(c);if(a&&r.push(a),0===c)break;var u=e.resolve(i.after(c));if(u.start(c)>=e.nodeSize-2)break;u.depth!==i.depth&&(u=e.resolve(u.pos+2)),i=u.depth?e.resolve(u.start(u.depth)):e.resolve(u.end(u.depth))}return r}(e,t,n).filter((function(e){return e.type!==r})).length}var y=function(e){var t=e.selection,n=t.empty,r=t.$from;return n&&(0===r.parentOffset||e.selection instanceof i.a)},O=function(e,t){var n,r=e.tr.selection,o=r.from,i=r.to;return e.doc.nodesBetween(o,i,(function(r,c,a){if(r.isText||c<o||c>i)return!0;r.marks.forEach((function(o){if(!a.type.allowsMarkType(o.type)||t&&!t.allowsMarkType(o.type)){var i=r.marks.filter((function(e){return e.type!==o.type})),u=c>0?c-1:0,s=e.doc.nodeAt(u);if(!s||s.isText)return;n=(n||e.tr).setNodeMarkup(u,void 0,r.attrs,i)}}))}),o),n},k=function(e,t,n){var r=n.depth,o=t.nodes,i=o.bulletList,c=o.orderedList,a=o.todoList,u=e;u||(u=t.nodes.listItem);for(var s=n.depth;s>0;s--){var d=n.node(s);if(d.type!==i&&d.type!==c&&d.type!==a||(r=s),d.type!==i&&d.type!==c&&d.type!==a&&d.type!==u)break}return r-1};function w(e,t){for(var n=[],r=0;r<e.childCount;r++)n.push(t(e.child(r),r,e instanceof o.Fragment?e:e.content));return n}var j=function(e){var t=e.selection.$from;return!(t.depth>1)||(e.selection instanceof i.a&&0===t.parentOffset||0===t.index(t.depth-1))};function M(e,t){var n=A(e.content,t);return new o.Slice(n,e.openStart,e.openEnd)}function A(e,t,n){for(var r=[],i=0,c=e.childCount;i<c;i++){var a=e.child(i),u=a.isLeaf?t(a,n,i):t(a.copy(A(a.content,t,a)),n,i);u&&(u instanceof o.Fragment?r.push.apply(r,u.content):Array.isArray(u)?r.push.apply(r,u):r.push(u))}return o.Fragment.fromArray(r)}function S(e,t,n){void 0===t&&(t="above"),void 0===n&&(n=!1);var r="above"===t,o=n?-1:void 0;return function(t,n){var i=r?t.selection.$from.before(o):t.selection.$from.after(o),c=e.createAndFill(),u=t.tr,s=a(c,i)(t.tr);return u!==s&&(n&&n(s.scrollIntoView()),!0)}}function E(e,t,n,r){var o={start:-1,end:-1};return t.nodesBetween(n,r,(function(t,n){if(o.start>-1)return!1;-1===o.start&&e.isInSet(t.marks)&&(o={start:n,end:n+Math.max(t.textContent.length,1)})})),o}function I(e,t){return new c.a({key:e,state:{init:function(){return t},apply:function(e,t){return t}}})}function C(e){var t=document.createElement("div"),n=o.DOMSerializer.fromSchema(e.schema).serializeFragment(e.doc.content);return t.appendChild(n),t.innerHTML}},144:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"i",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return l})),n.d(t,"h",(function(){return p}));n(186),n(187);var r=n(145),o=n(157);function i(e){if(null==e)throw new Error("undefined value passed");return Array.isArray(e)?e:[e]}function c(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=[e].concat(n);return function(e){return o.reduceRight((function(e,t){return t(e)}),e)}}function a(e,t){var n=[].concat(t.matchAll(e));if(0===n.length)return[{start:0,end:t.length,match:!1,subString:t}];for(var r=[],o=0,i=0;i<n.length;i++){var c=n[i],a=c.index,u=a+c[0].length;o!==a&&r.push({start:o,end:a,match:!1}),r.push({start:a,end:u,match:!0}),o=u}var s=r[r.length-1]&&r[r.length-1].end;return s&&s!==t.length&&r.push({start:s,end:t.length,match:!1}),r=r.map((function(e){return Object.assign({},e,{subString:t.slice(e.start,e.end)})}))}function u(e,t){return Object.fromEntries(Object.entries(e).map((function(e){var n=e[0],r=e[1];return[n,t(r,n)]})))}function s(e,t){return Object.fromEntries(Object.entries(e).filter((function(e){var n=e[0],r=e[1];return t(r,n)})))}function d(e){var t=[],n=null,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t=o,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r}var f=o.b||o.a?function(){}:console.warn.bind(console,"Warning in bangle.js:");function l(e){var t=r.DOMSerializer.renderSpec(window.document,e),n=t.dom;if(t.contentDOM)throw new Error("createElement does not support creating contentDOM");return n}function p(e,t){requestAnimationFrame((function(){t(e.state,e.dispatch,e)}))}},147:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return p}));var r=n(163),o=n(143),i=n(144),c=n(140),a=n(145),u=n(165);function s(e){return function(t,n,i){if(!t.selection.empty)return!1;var c=Object(r.findParentNodeOfType)(e)(t.selection);if(!c)return!1;var a=t.selection,u=t.tr;u=u.setSelection(function(e,t){var n=e.selection.$from,r=n.start(t),i=n.end(t);return o.TextSelection.create(e.doc,r,i)}(t,c.depth)),n&&n(u),document.execCommand("copy");var s=i.state.tr;return n&&n(s.setSelection(o.Selection.near(s.doc.resolve(a.$from.pos)))),!0}}function d(e){return function(t,n){if(!t.selection.empty)return!1;var i=Object(r.findParentNodeOfType)(e)(t.selection);if(!i||!i.node)return!1;var c=t.tr;return c=c.setSelection(o.NodeSelection.create(c.doc,i.pos)),n&&n(c),document.execCommand("cut"),!0}}function f(e,t){return t=Object(i.a)(t),function(n){var o=Object(r.findParentNodeOfType)(e)(n.selection);if(!o)return!1;var i=o.depth-1;if(i<0)return!1;var c=n.selection.$from.node(i);return t.includes(c.type)}}function l(e,t){void 0===t&&(t="UP");var n="DOWN"===t;return function(t,i){if(!t.selection.empty)return!1;var s=t.selection.$from,d=Object(r.findParentNodeOfType)(e)(t.selection);if(!d)return!1;var f=d.node,l=d.depth-1,p=s.node(l),m=s.start(l);if(f.type!==e)return!1;var v=Object(c.n)(p,(function(e){return e})),h=v.indexOf(f),g=n?h+1:h-1;if(g>=v.length||g<0)return!1;var b=v[g].nodeSize,y=[v[g],v[h]];v[h]=y[0],v[g]=y[1];var O=t.tr,k=m,w=s.end(l),j=new a.Slice(a.Fragment.fromArray(v),0,0);return O=(O=O.step(new u.c(k,w,j,!1))).setSelection(o.Selection.near(O.doc.resolve(n?s.pos+b:s.pos-b))),i&&i(O.scrollIntoView()),!0}}var p=function(e){return function(t,n,r){var i=e.nodeSize-1;"doc"===e.type.name&&(i=e.content.size-1);var c=t.tr.setSelection(o.TextSelection.create(t.doc,i));return n&&n(c),!0}}},148:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(143);n.d(t,"a",(function(){return r.Plugin})),n.d(t,"c",(function(){return r.PluginKey}));var o=function(e,t){this.name=e,this.plugins=t}},149:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var r={mac:!1,ie:!1,ie_version:0,gecko:!1,chrome:!1,chrome_version:0,android:!1,ios:!1,webkit:!1};if("undefined"!=typeof navigator){var o=/Edge\/(\d+)/.exec(navigator.userAgent),i=/MSIE \d/.test(navigator.userAgent),c=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);r.mac=/Mac/.test(navigator.platform);var a=r.ie=!!(i||c||o);r.ie_version=i?document.documentMode||6:c?+c[1]:o?+o[1]:null,r.gecko=!a&&/gecko\/\d/i.test(navigator.userAgent),r.chrome=!a&&/Chrome\//.test(navigator.userAgent),r.chrome_version=parseInt((navigator.userAgent.match(/Chrome\/(\d{2})/)||[])[1],10),r.android=/Android \d/.test(navigator.userAgent),r.ios=!a&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),r.webkit=!a&&!!document.documentElement&&"WebkitAppearance"in document.documentElement.style}t.a=r;var u=r.chrome&&!r.android&&r.chrome_version>=58},150:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(146);function o(e,t){return new r.a(e,(function(e,n,r,o){var i=e.tr,c=n.length-1,a=o,u=r;if(n[c]){var s=r+n[0].indexOf(n[c-1]),d=s+n[c-1].length-1,f=s+n[c-1].lastIndexOf(n[c]),l=f+n[c].length;if(function(e,t,n){var r=[];return n.doc.nodesBetween(e,t,(function(e,t){r=[].concat(r,e.marks.map((function(n){return{start:t,end:t+e.nodeSize,mark:n}})))})),r}(r,o,e).filter((function(e){return e.mark.type.excluded.find((function(e){return e.name===t.name}))})).filter((function(e){return e.end>s})).length)return!1;l<d&&i.delete(l,d),f>s&&i.delete(s,f),a=(u=s)+n[c].length}return i.addMark(u,a,t.create()),i.removeStoredMark(t),i}))}},151:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(143),o=n(145);function i(e,t,n){var i=function r(i,c){var a=[];return i.forEach((function(o){if(o.isText){for(var i,u=o.text,s=0,d=!!o.marks.filter((function(e){return"link"===e.type.name}))[0];!d&&null!==(i=e.exec(u));)if(c&&c.type.allowsMarkType(t)&&i[1]){var f=i.index,l=f+i[0].length,p=f+i[0].indexOf(i[1]),m=p+i[1].length,v=n instanceof Function?n(i):n;f>0&&a.push(o.cut(s,f)),a.push(o.cut(p,m).mark(t.create(v).addToSet(o.marks))),s=l}s<u.length&&a.push(o.cut(s))}else a.push(o.copy(r(o.content,o)))})),o.Fragment.fromArray(a)};return new r.Plugin({props:{transformPasted:function(e){return new o.Slice(i(e.content),e.openStart,e.openEnd)}}})}},152:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a}));var r=n(142),o="undefined"==typeof window||window.BANGLE_DEBUG_KEYBINDINGS,i=new WeakMap;function c(e,t){var n=(void 0===t?{}:t).monitor,c=void 0===n?o:n,a=Object.entries(e).flatMap((function(e){var t=e[0],n=e[1];return t&&"undefined"!==t&&"null"!==t&&"false"!==t?t.split(" ").map((function(e){return[e,n]})):[]})).filter((function(e){e[0];return null!=e[1]})),u=Object.fromEntries(a),s=Object(r.b)(u);return c&&i.set(s,u),s}function a(){return c.apply(void 0,arguments)}},154:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return h})),n.d(t,"m",(function(){return g})),n.d(t,"n",(function(){return b})),n.d(t,"r",(function(){return r})),n.d(t,"v",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"q",(function(){return q})),n.d(t,"s",(function(){return c})),n.d(t,"a",(function(){return R})),n.d(t,"c",(function(){return V})),n.d(t,"e",(function(){return a})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return ne})),n.d(t,"k",(function(){return s})),n.d(t,"o",(function(){return d})),n.d(t,"p",(function(){return ve})),n.d(t,"t",(function(){return f})),n.d(t,"u",(function(){return Ce})),n.d(t,"l",(function(){return l})),n.d(t,"j",(function(){return p})),n.d(t,"g",(function(){return m}));var r={};n.r(r),n.d(r,"spec",(function(){return M})),n.d(r,"plugins",(function(){return A})),n.d(r,"commands",(function(){return S})),n.d(r,"defaultKeys",(function(){return E})),n.d(r,"toggleStrike",(function(){return C})),n.d(r,"queryIsStrikeActive",(function(){return x}));var o={};n.r(o),n.d(o,"spec",(function(){return D})),n.d(o,"plugins",(function(){return P})),n.d(o,"commands",(function(){return L})),n.d(o,"defaultKeys",(function(){return T})),n.d(o,"toggleUnderline",(function(){return _})),n.d(o,"queryIsUnderlineActive",(function(){return $}));var i={};n.r(i),n.d(i,"spec",(function(){return N}));var c={};n.r(c),n.d(c,"spec",(function(){return z}));var a={};n.r(a),n.d(a,"spec",(function(){return K})),n.d(a,"plugins",(function(){return F})),n.d(a,"commands",(function(){return W})),n.d(a,"defaultKeys",(function(){return G})),n.d(a,"queryIsCodeActiveBlock",(function(){return Y}));var u={};n.r(u),n.d(u,"spec",(function(){return X})),n.d(u,"plugins",(function(){return Q})),n.d(u,"defaultKeys",(function(){return ee}));var s={};n.r(s),n.d(s,"spec",(function(){return re})),n.d(s,"plugins",(function(){return oe}));var d={};n.r(d),n.d(d,"spec",(function(){return ae})),n.d(d,"plugins",(function(){return ue})),n.d(d,"commands",(function(){return se})),n.d(d,"defaultKeys",(function(){return de})),n.d(d,"indentListItem",(function(){return pe})),n.d(d,"outdentListItem",(function(){return me}));var f={};n.r(f),n.d(f,"spec",(function(){return Oe})),n.d(f,"plugins",(function(){return ke})),n.d(f,"defaultKeys",(function(){return we})),n.d(f,"commands",(function(){return je})),n.d(f,"toggleTodoItemDone",(function(){return Ee})),n.d(f,"queryTodoItemAttrs",(function(){return Ie}));var l={};n.r(l),n.d(l,"spec",(function(){return _e})),n.d(l,"plugins",(function(){return $e})),n.d(l,"commands",(function(){return Ne})),n.d(l,"updateImageNodeAttribute",(function(){return Ke}));var p={};n.r(p),n.d(p,"plugins",(function(){return Je})),n.d(p,"commands",(function(){return Ze})),n.d(p,"defaultKeys",(function(){return Ye})),n.d(p,"undo",(function(){return Xe})),n.d(p,"redo",(function(){return Qe}));var m={};n.r(m),n.d(m,"plugins",(function(){return tt})),n.d(m,"docChangedKey",(function(){return nt})),n.d(m,"selectionChangedKey",(function(){return rt}));var v=n(167),h=n(168),g=n(169),b=n(164),y=n(150),O=n(151),k=n(141),w=n(142),j=n(140),M=function(e){void 0===e&&(e={});return{type:"mark",name:I,schema:{parseDOM:[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",getAttrs:function(e){return"line-through"===e}}],toDOM:function(){return["s",0]}},markdown:{toMarkdown:{open:"~~",close:"~~",mixable:!0,expelEnclosingWhitespace:!0},parseMarkdown:{s:{mark:"strike"}}}}},A=function(e){var t=(void 0===e?{}:e).keybindings,n=void 0===t?E:t;return function(e){var t,r=function(e){return e.marks.strike}(e.schema);return[Object(O.a)(/~([^~]+)~/g,r),Object(y.a)(/~([^~]+)~$/,r),n&&Object(w.b)((t={},t[n.toggleStrike]=Object(k.f)(r),t))]}},S={toggleStrike:C,queryIsStrikeActive:x},E={toggleStrike:"Mod-d"},I="strike";function C(){return function(e,t,n){return Object(k.f)(e.schema.marks.strike)(e,t,n)}}function x(){return function(e){return Object(j.k)(e.schema.marks.strike)(e)}}var D=function(e){void 0===e&&(e={});return{type:"mark",name:B,schema:{parseDOM:[{tag:"u"},{style:"text-decoration",getAttrs:function(e){return e===B}}],toDOM:function(){return["u",0]}},markdown:{toMarkdown:{open:"_",close:"_",mixable:!0,expelEnclosingWhitespace:!0}}}},P=function(e){var t=(void 0===e?{}:e).keybindings,n=void 0===t?T:t;return function(e){var t,r=function(e){return e.marks.underline}(e.schema);return[Object(y.a)(/~([^~]+)~$/,r),Object(O.a)(/~([^~]+)~/g,r),n&&Object(w.b)((t={},t[n.toggleUnderline]=Object(k.f)(r),t))]}},L={toggleUnderline:_,queryIsUnderlineActive:$},T={toggleUnderline:"Mod-u"},B="underline";function _(){return function(e,t,n){return Object(k.f)(e.schema.marks.underline)(e,t,n)}}function $(){return function(e){return Object(j.k)(e.schema.marks.underline)(e)}}var N=function(e){var t=(void 0===e?{}:e).content;return{type:"node",topNode:!0,name:"doc",schema:{content:void 0===t?"block+":t}}};var q=n(170),z=function(e){void 0===e&&(e={});return{type:"node",name:"text",schema:{group:"inline"},markdown:{toMarkdown:function(e,t){e.text(t.text)}}}};var R=n(171),V=n(172),U=n(146),H=n(147),K=function(e){void 0===e&&(e={});return{type:"node",name:J,schema:{attrs:{language:{default:""}},content:"text*",marks:"",group:"block",code:!0,defining:!0,draggable:!1,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(){return["pre",["code",0]]}},markdown:{toMarkdown:function(e,t){e.write("```"+(t.attrs.language||"")+"\n"),e.text(t.textContent,!1),e.ensureNewLine(),e.write("```"),e.closeBlock(t)},parseMarkdown:{code_block:{block:J,noCloseToken:!0},fence:{block:J,getAttrs:function(e){return{language:e.info||""}},noCloseToken:!0}}}}},F=function(e){var t=void 0===e?{}:e,n=t.markdownShortcut,r=void 0===n||n,o=t.keybindings,i=void 0===o?G:o;return function(e){var t,n=e.schema,o=Z(n);return[r&&Object(U.c)(/^```$/,o),i&&Object(w.b)((t={},t[i.toCodeBlock]=Object(k.e)(o),t[i.moveUp]=Object(H.c)(o,"UP"),t[i.moveDown]=Object(H.c)(o,"DOWN"),t[i.insertEmptyParaAbove]=Object(j.a)(Y(),Object(j.h)(n.nodes.paragraph,"above",!1)),t[i.insertEmptyParaBelow]=Object(j.a)(Y(),Object(j.h)(n.nodes.paragraph,"below",!1)),t))]}},W={queryIsCodeActiveBlock:Y},G={toCodeBlock:"Shift-Ctrl-\\",moveDown:"Alt-ArrowDown",moveUp:"Alt-ArrowUp",insertEmptyParaAbove:"Mod-Shift-Enter",insertEmptyParaBelow:"Mod-Enter"},J="codeBlock",Z=function(e){return e.nodes.codeBlock};function Y(){return function(e){var t=Z(e.schema);return Boolean(Object(j.d)(t)(e.selection))}}var X=function(e){void 0===e&&(e={});return{type:"node",name:te,schema:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return["br"]}},markdown:{toMarkdown:function(e,t,n,r){for(var o=r+1;o<n.childCount;o++)if(n.child(o).type!==t.type)return void e.write("\\\n")},parseMarkdown:{hardbreak:{node:"hardBreak"}}}}},Q=function(e){var t=(void 0===e?{}:e).keybindings,n=void 0===t?ee:t;return function(e){var t,r=function(e){return e.nodes[te]}(e.schema),o=Object(k.c)(k.d,(function(e,t){return t&&t(e.tr.replaceSelectionWith(r.create()).scrollIntoView()),!0}));return[n&&Object(w.b)((t={},t[n.insert]=o,t))]}},ee={insert:"Shift-Enter"},te="hardBreak";var ne=n(173),re=function(e){void 0===e&&(e={});return{type:"node",name:ie,schema:{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return["hr"]}},markdown:{toMarkdown:function(e,t){e.write(t.attrs.markup||"---"),e.closeBlock(t)},parseMarkdown:{hr:{node:ie}}}}},oe=function(e){var t=(void 0===e?{}:e).markdownShortcut,n=void 0===t||t;return function(e){var t=function(e){return e.nodes.horizontalRule}(e.schema);return[n&&new U.a(/^(?:---|___\s|\*\*\*\s)$/,(function(e,n,r,o){if(!n[0])return null;var i=e.tr.replaceWith(r-1,o,t.createChecked());return Object(j.p)(e.schema.nodes.paragraph.createChecked(),i.selection.end)(i)}))]}},ie="horizontalRule";var ce=n(155),ae=function(e){void 0===e&&(e={});return{type:"node",name:fe,schema:{content:"(paragraph) (paragraph | bulletList | orderedList)*",defining:!0,draggable:!0,parseDOM:[{tag:"li"}],toDOM:function(){return["li",0]}},markdown:{toMarkdown:function(e,t){e.renderContent(t)},parseMarkdown:{list_item:{block:fe}}}}},ue=function(e){var t=(void 0===e?{}:e).keybindings,n=void 0===t?de:t;return function(e){var t,r=e.schema,o=le(r),i=Object(H.d)(o,[r.nodes.bulletList,r.nodes.orderedList]),c=function(e){return Object(k.c)(Object(H.c)(o,e),Object(ce.d)(o,e))};return[n&&Object(w.b)((t={Backspace:Object(ce.a)(o),Enter:Object(ce.b)(o)},t[n.indent]=pe(),t[n.outdent]=me(),t[n.moveUp]=Object(j.a)(i,c("UP")),t[n.moveDown]=Object(j.a)(i,c("DOWN")),t[n.emptyCut]=Object(j.a)(i,Object(H.b)(o)),t[n.emptyCopy]=Object(j.a)(i,Object(H.a)(o)),t[n.insertEmptyListAbove]=Object(j.a)(i,Object(j.h)(o,"above",!0)),t[n.insertEmptyListBelow]=Object(j.a)(i,Object(j.h)(o,"below",!0)),t))]}},se={indentListItem:pe,outdentListItem:me},de={indent:"Tab",outdent:"Shift-Tab",moveDown:"Alt-ArrowDown",moveUp:"Alt-ArrowUp",emptyCopy:"Mod-c",emptyCut:"Mod-x",insertEmptyListAbove:"Mod-Shift-Enter",insertEmptyListBelow:"Mod-Enter"},fe="listItem",le=function(e){return e.nodes.listItem};function pe(){return function(e,t,n){var r=le(e.schema);return Object(ce.c)(r)(e,t,n)}}function me(){return function(e,t,n){var r=le(e.schema);return Object(ce.e)(r)(e,t,n)}}var ve=n(174),he=n(149),ge=n(158),be=n(162),ye=n(144),Oe=function(e){var t=void 0===e?{}:e,n=t.nested,r=void 0===n||n,o=t.draggable,i=void 0===o||o,c=Object(be.a)(Ae,{tag:"li",parsingPriority:51,content:0}),a=c.toDOM,u=c.parseDOM;return{type:"node",name:Ae,schema:{attrs:{done:{default:!1}},draggable:i,content:r?"(paragraph) (paragraph | todoList | bulletList | orderedList)*":"(paragraph) (paragraph | bulletList | orderedList)*",toDOM:a,parseDOM:u},markdown:{toMarkdown:function(e,t){e.write(t.attrs.done?"[x] ":"[ ] "),e.renderContent(t)},parseMarkdown:{todo_item:{block:Ae,getAttrs:function(e){return{"data-name":Ae,done:e.attrGet("isDone")||!1}}}}},options:{nested:r}}},ke=function(e){var t=void 0===e?{}:e,n=t.nodeView,r=void 0===n||n,o=t.keybindings,i=void 0===o?we:o;return function(e){var t,n=e.schema,o=e.specRegistry.options.todoItem.nested,c=Se(n),a=function(e){return Object(k.c)(Object(H.c)(c,e),Object(ce.d)(c,e))},u=Object(H.d)(c,n.nodes.todoList);return[i&&Object(w.b)((t={},t[i.toggleDone]=Object(j.a)(u,Object(ce.h)(c,(function(e){return Object.assign({},e,{done:!e.done})}))),t.Enter=Object(ce.b)(c),t.Backspace=Object(ce.a)(c),t[i.indent]=o?Object(ce.c)(c):function(){},t[i.outdent]=Object(ce.e)(c),t[i.moveUp]=Object(j.a)(u,a("UP")),t[i.moveDown]=Object(j.a)(u,a("DOWN")),t[i.emptyCut]=Object(j.a)(u,Object(H.b)(c)),t[i.emptyCopy]=Object(j.a)(u,Object(H.a)(c)),t[i.insertEmptyTodoAbove]=Object(j.a)(u,Object(j.h)(c,"above",!0)),t[i.insertEmptyTodoBelow]=Object(j.a)(u,Object(j.h)(c,"below",!0)),t)),r&&ge.a.createPlugin({name:Ae,containerDOM:["li",{"data-bangle-name":Ae}],contentDOM:["span",{}],renderHandlers:{create:function(e,t){var n=t.attrs,r=t.updateAttrs,o=(t.getPos,Object(ye.d)(["span",{contentEditable:!1},["input",{type:"checkbox"}]])),i=o.querySelector("input");n.done&&i.setAttribute("checked",""),e.containerDOM.appendChild(o),e.containerDOM.appendChild(e.contentDOM),i.addEventListener("input",(function(e){Me("change event",i.checked),r({done:i.checked})}))},update:function(e,t){var n=t.attrs,r=e.containerDOM.querySelector("input"),o=n.done,i=r.hasAttribute("checked");o!==i?(Me("updating inputElement"),o?r.setAttribute("checked","true"):r.removeAttribute("checked")):Me("skipping update",o,i)},destroy:function(){}}})]}},we={toggleDone:he.a.mac?"Ctrl-Enter":"Ctrl-I",indent:"Tab",outdent:"Shift-Tab",moveDown:"Alt-ArrowDown",moveUp:"Alt-ArrowUp",emptyCopy:"Mod-c",emptyCut:"Mod-x",insertEmptyTodoAbove:"Mod-Shift-Enter",insertEmptyTodoBelow:"Mod-Enter"},je={toggleTodoItemDone:Ee,queryTodoItemAttrs:Ie},Me=function(){},Ae="todoItem",Se=function(e){return e.nodes.todoItem};function Ee(){return function(e,t,n){var r=Se(e.schema);return Object(ce.h)(r,(function(e){return Object.assign({},e,{done:!e.done})}))(e,t,n)}}function Ie(){return function(e,t,n){var r=Se(e.schema);return Object(ce.f)(r)(e,t,n)}}var Ce=n(175),xe=n(186),De=n.n(xe),Pe=n(177),Le=n(187),Te=n(143),Be=n(163),_e=function(e){void 0===e&&(e={});return{type:"node",name:qe,schema:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:function(e){return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")}}}],toDOM:function(e){return["img",e.attrs]}},markdown:{toMarkdown:function(e,t){var n=e.esc(t.attrs.alt||""),r=e.esc(t.attrs.src)+(t.attrs.title?" "+e.quote(t.attrs.title):"");e.write("!["+n+"]("+r+")")},parseMarkdown:{image:{node:qe,getAttrs:function(e){return{src:e.attrGet("src"),title:e.attrGet("title")||null,alt:e.children[0]&&e.children[0].content||null}}}}}}},$e=function(e){var t=void 0===e?{}:e,n=t.handleDragAndDrop,r=void 0===n||n;t.keybindings;return function(e){var t=e.schema,n=ze(t);return[new U.a(/!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\)/,(function(e,t,r,o){var i=t[1],c=t[2],a=t[3];if(c)return a||(a=i),e.tr.replaceWith(r,o,n.create({src:c,alt:i,title:a}))})),r&&new Te.Plugin({key:new Te.PluginKey("image-drop-paste"),props:{handleDOMEvents:{drop:function(e,t){if(null==t.dataTransfer)return!1;var n=He(t.dataTransfer,"image/*",!0);if(!n||0===n.length)return!1;t.preventDefault();var r=e.posAtCoords({left:t.clientX,top:t.clientY});return Re(e,null==r?void 0:r.pos,n.map((function(e){return Ue(e)}))),!0}},handlePaste:function(e,t,n){var r=t;if(!r.clipboardData)return!1;var o=He(r.clipboardData,"image/*",!0);return!(!o||0===o.length)&&(Re(e,e.state.selection.from,o.map((function(e){return Ue(e)}))).catch((function(e){return console.error(e)})),!0)}}})]}},Ne={},qe="image",ze=function(e){return e.nodes.image};function Re(e,t,n){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(Le.a)(De.a.mark((function e(t,n,r){var o,i,c,a,u,s,d;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Object(Pe.a)(r);case 1:if((i=o()).done){e.next=14;break}return c=i.value,e.next=5,c;case 5:if(a=e.sent,u=ze(t.state.schema).create({src:a}),s=t.state.tr,(d=Object(Be.safeInsert)(u,n)(s))!==s){e.next=11;break}return e.abrupt("continue",12);case 11:t.dispatch(d);case 12:e.next=1;break;case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(e){return new Promise((function(t,n){var r=new FileReader;r.onerror=function(){n(new Error("Error reading file"+e.name))},"readAsDataURL"in r?(r.onload=function(e){t(e.target.result)},r.readAsDataURL(e)):(r.onload=function(n){var r=btoa(n.target.result);t("data:"+e.type+";base64,"+r)},r.readAsBinaryString(e))}))}function He(e,t,n){var r=function(e,t,n){var r,o=Array.from(e);if(""===t)return r=o.filter((function(e){return"file"===e.kind})),n?r:[r[0]];var i=t.toLowerCase().split(",").map((function(e){return e.split("/").map((function(e){return e.trim()}))})).filter((function(e){return 2===e.length})),c=function(e){if("file"!==e.kind)return!1;for(var t,n=e.type.toLowerCase().split("/").map((function(e){return e.trim()})),r=n[0],o=n[1],c=Object(Pe.a)(i);!(t=c()).done;){var a=t.value,u=a[0],s=a[1];if(r===u&&("*"===s||o===s))return!0}return!1};r=r=o.filter(c),!1===n&&(r=[r[0]]);return r}(e.items,t,n),o=[];return r.forEach((function(e){var t=e&&e.getAsFile();null!=t&&o.push(t)})),o}var Ke=function(e){return void 0===e&&(e={}),function(t,n,r){if(!t.selection instanceof Te.NodeSelection||!t.selection.node)return!1;var o=t.selection.node;return o.type===ze(t.schema)&&(n&&n(t.tr.setNodeMarkup(t.selection.$from.pos,void 0,Object.assign({},o.attrs,e))),!0)}},Fe=n(208),We=n(152),Ge=n(148),Je=function(e){var t=void 0===e?{}:e,n=t.historyOpts,r=void 0===n?{}:n,o=t.keybindings,i=void 0===o?Ye:o;return function(){var e;return new Ge.b("history",[Fe.a(r),i&&Object(We.a)((e={},e[i.undo]=Xe(),e[i.redo]=Qe(),e))])}},Ze={undo:Xe,redo:Qe},Ye={undo:"Mod-z",redo:"Mod-y Shift-Mod-z"};function Xe(){return Fe.c}function Qe(){return Fe.b}var et="editorStateCounter",tt=function(){return function(){return new Ge.b(et,[new Ge.a({key:nt,state:{init:function(e,t){return 0},apply:function(e,t,n,r){return e.docChanged?t+1:t}}}),new Ge.a({key:rt,state:{init:function(e,t){return 0},apply:function(e,t,n,r){return r.selection.eq(n&&n.selection)?t:t+1}}})])}},nt=new Ge.c(et),rt=new Ge.c(et)},155:function(e,t,n){"use strict";n.d(t,"g",(function(){return g})),n.d(t,"c",(function(){return y})),n.d(t,"e",(function(){return O})),n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return M})),n.d(t,"d",(function(){return E})),n.d(t,"h",(function(){return I})),n.d(t,"f",(function(){return C}));var r=n(165),o=n(204),i=n(141),c=n(145),a=n(163),u=n(143),s=n(144),d=n(140),f=n(178);function l(e,t,n,o){var i=n.$from,a=n.$to,u=e;u||(u=t.schema.nodes.listItem);var s=i.blockRange(a,(function(e){return!!e.childCount&&!!e.firstChild&&e.firstChild.type===u}));if(!s||s.depth<2||i.node(s.depth-1).type!==u)return o;var d=s.end,f=a.end(s.depth);return d<f&&(o.step(new r.b(d-1,f,d,f,new c.Slice(c.Fragment.from(u.create(void 0,s.parent.copy())),1,0),1,!0)),s=new c.NodeRange(o.doc.resolve(i.pos),o.doc.resolve(f),s.depth)),o.lift(s,Object(r.j)(s)).scrollIntoView()}var p=function(e,t){for(var n=t.bulletList,r=t.orderedList,o=t.todoList,i=0,c=e.depth-1;c>0;c--){var a=e.node(c);a.type!==n&&a.type!==r&&a.type!==o||(i+=1)}return i},m=function(e){return function(t){var n=t.selection.$from.parent,r=e;r||(r=t.schema.nodes.listItem);var o=t.schema.nodes.paragraph;return t.selection instanceof f.a?n.type===r:n.type===o&&Object(a.hasParentNodeOfType)(r)(t.selection)}};var v=function(e){return function(t){var n=t.selection.$from,r=e;r||(r=t.schema.nodes.listItem);var o=t.schema.nodes.paragraph;return t.selection instanceof f.a?n.parent.type===r:Object(a.hasParentNodeOfType)(r)(t.selection)&&n.parent.type===o}};function h(e){var t=e.selection.$from,n=e.schema.nodes,r=n.bulletList,o=n.orderedList,i=n.todoList,c=e.doc.resolve(t.pos-1),a=c?c.nodeBefore:null;return e.selection instanceof f.a&&(a=t.nodeBefore),!!a&&[r,o,i].indexOf(a.type)>-1}function g(e,t){return function(n,r,c){var a=n.selection,s=a.$from.node(a.$from.depth-2),f=a.$to.node(a.$to.depth-2);if(s&&s.type.name===e.name&&f&&f.type.name===e.name){var p=t||n.schema.nodes.listItem,m=function(e,t,n){for(var r,o=e,i=n.bulletList,c=n.orderedList,a=n.todoList,u=t.depth-1;u>0;u--){var s=t.node(u);if(s.type!==i&&s.type!==c&&s.type!==a||(r=u),s.type!==i&&s.type!==c&&s.type!==o)break}return r}(p,a.$to,n.schema.nodes),v=a.$to.pos;a instanceof u.NodeSelection&&a.node.type===p&&(v=a.$from.pos+a.node.firstChild.content.size);var h=function(e,t,n,r,o,i){var c=e;c||(c=t.schema.nodes.listItem);var a=!1;return i.doc.nodesBetween(n,r,(function(e,r){if(!a&&e.type===c&&r>n){a=!0;for(var s=o+3;s>o+2;){var d=i.doc.resolve(i.mapping.map(r));s=d.depth;var f=i.doc.resolve(i.mapping.map(r+e.textContent.length)),p=new u.TextSelection(d,f);i=l(c,t,p,i)}}})),i}(p,n,v,a.$to.end(m),m||0,n.tr);return h=function(e,t,n){var r=t.selection,o=r.from,i=r.to,c=t.schema.nodes.paragraph,a=[];n.doc.nodesBetween(o,i,(function(e,t){e.type===c&&a.push({node:e,pos:t})}));for(var u=a.length-1;u>=0;u--){var s=a[u],f=n.doc.resolve(n.mapping.map(s.pos));if(f.depth>0){var l=void 0;l=s.node.textContent&&s.node.textContent.length>0?n.doc.resolve(n.mapping.map(s.pos+s.node.textContent.length)):n.doc.resolve(n.mapping.map(s.pos+1));var p=f.blockRange(l);p&&n.lift(p,Object(d.e)(e,t.schema,f))}}return n}(p,n,h),r&&r(h),!0}return function(e){return function(t,n,r){if(n&&n(t.tr.setSelection(function(e,t){var n=t.$from,r=t.$to,o=n.pos===r.pos,i=n.pos,c=r.pos;if(o&&i===e.nodeSize-3)return t;if(n.nodeBefore&&!o){i++;for(var a=e.nodeAt(i);!a||a&&!a.isText;)i++,a=e.nodeAt(i)}if(c===i)return new u.TextSelection(e.resolve(i));return new u.TextSelection(e.resolve(i),e.resolve(c))}(t.doc,t.selection))),!r)return!1;var c=(t=r.state).selection,a=c.$from,s=c.$to,f=Object(d.m)(t.doc,a,s,e);if(function(e,t){var n=e.selection.$from,r=n.node(-2),o=n.node(-3);return r&&r.type===t||o&&o.type===t}(t,e)&&f)return b()(t,n);f||(b()(t,n),t=r.state);var l,p=Object(d.q)(t,e);return p&&n&&(n(p),t=r.state),(l=e,i.a(o.c(l),(function(e,t){return e.type===t.type&&e.type===l})))(t,n)}}(e)(n,r,c)}}function b(){return function(e,t){var n=e.tr,o=e.selection,i=o.$from,c=o.$to;return n.doc.nodesBetween(i.pos,c.pos,(function(t,o){if(t.isTextblock){var i=new u.NodeSelection(n.doc.resolve(n.mapping.map(o))),c=i.$from.blockRange(i.$to);if(!c||![e.schema.nodes.listItem,e.schema.nodes.todoItem].includes(i.$from.parent.type))return!1;var a=c&&Object(r.j)(c);if(null==a)return!1;n.lift(c,a)}})),t&&t(n),!0}}function y(e){return function(t,n){var r=e;return r||(r=t.schema.nodes.listItem),!!v(r)(t)&&(function(e,t){var n,r=t.tr.selection.$to.pos;do{var o=t.doc.resolve(r);if((n=p(o,t.schema.nodes))>4)return!1;r++}while(n>=e);return!0}(p(t.selection.$from,t.schema.nodes),t)&&o.b(r)(t,n),!0)}}function O(e){return function(t,n){var r=e;r||(r=t.schema.nodes.listItem);var i=t.selection,c=i.$from,a=i.$to;if(v(r)(t)){var u=c.blockRange(a,(function(e){return e.childCount>0&&e.firstChild.type===r}));return!!u&&Object(s.c)(function(e,t){return function(n){return function(r,o){return n(r,(function(n){var i=r.doc.resolve(t.start),c=r.doc.resolve(t.end),a=n.doc.resolve(n.mapping.map(t.end-1));a.nodeBefore&&a.nodeAfter&&a.nodeBefore.type===a.nodeAfter.type&&c.nodeAfter&&c.nodeAfter.type===e&&c.parent.type===i.parent.type&&n.join(a.pos),o&&o(n.scrollIntoView())}))}}}(r,u),o.a)(r)(t,n)}return!1}}var k=function(e){var t=e.selection.$from,n=t.node(t.depth-4),r=e.schema.nodes.todoList;return n.type===r},w=function(e){var t=e.selection.$from,n=t.node(t.depth-2),r=e.schema.nodes;return[r.bulletList,r.orderedList].includes(n.type)},j=function(e){return function(){return i.c(Object(d.a)([v(e),d.i,d.j,function(e){return k(e)&&w(e)},function(e){return m(e.schema.nodes.todoItem)(e)}],(function(e,t,n){return!!g(e.schema.nodes.todoList,e.schema.nodes.todoItem)(e,t,n)&&O((e=n.state).schema.nodes.todoItem)(e,t,n)})),Object(d.a)([v(e),d.i,d.j,m(e)],i.c(S(e),O(e))),Object(d.a)([d.i,h],A(e))).apply(void 0,arguments)}};function M(e){return function(t,n,r){var o,i=t.selection;if(i.empty){var u=i.$from,s=e;s||(s=t.schema.nodes.listItem);var f=t.schema.nodes,l=f.codeBlock,p=f.todoItem,m=u.node(u.depth),v=u.node(u.depth-1);if(v&&v.type===s){var h=Object(d.g)(v);if(Object(d.l)(m)&&!h)return k(t)&&s!==p?!!g(t.schema.nodes.todoList,t.schema.nodes.todoItem)(t,n,r)&&O(t.schema.nodes.todoItem)(r.state,n,r):O(s)(t,n);if(!Object(a.hasParentNodeOfType)(l)(i))return(o=s,function(e,t){var n=e.selection,r=n.$from,i=n.$to,a=n.node;if(a&&a.isBlock||r.depth<2||!r.sameParent(i))return!1;var u=r.node(-1);if(u.type!==o)return!1;if(u.content.content.length<=1&&0===r.parent.content.size&&0!==u.content.size){if(2===r.depth||r.node(-3).type!==o||r.index(-2)!==r.node(-2).childCount-1)return!1;if(t){for(var s=c.Fragment.empty,d=r.index(-1)>0,f=r.depth-(d?1:2);f>=r.depth-3;f--)s=c.Fragment.from(r.node(f).copy(s));s=s.append(c.Fragment.from(o.createAndFill()));var l=e.tr.replace(r.before(d?void 0:-1),r.after(-3),new c.Slice(s,d?3:2,2));l.setSelection(e.selection.constructor.near(l.doc.resolve(r.pos+(d?3:2)))),t(l.scrollIntoView())}return!0}var p=i.pos===r.end()?u.contentMatchAt(0).defaultType:void 0,m=e.tr.delete(r.pos,i.pos),v=p&&[void 0,{type:p}];return t&&t(m.split(r.pos,2,v).scrollIntoView()),!0})(t,n)}}return!1}}function A(e){return function(t,n){var o=e;o||(o=t.schema.nodes.listItem);var i=t.selection.$from,u=t.schema.nodes,s=u.paragraph,l=u.codeBlock,p=u.bulletList,m=u.orderedList,v=u.todoList,h=t.selection instanceof f.a,g=h?t.doc.resolve(i.pos+1):i,b=Object(d.b)(g);if(!b)return!1;if(b.nodeBefore&&[p,m,v].indexOf(b.nodeBefore.type)>-1&&b.nodeAfter&&(b.nodeAfter.type===s||b.nodeAfter.type===l)){for(var y=b.doc.resolve(b.pos-1);y.parent.type!==s;)y=t.doc.resolve(y.pos-1);var O=t.tr;if(h){var k=Object(a.findPositionOfNodeBefore)(O.selection);if("number"!=typeof k)return!1;var w=b.nodeBefore.copy(b.nodeBefore.content.append(c.Fragment.from(o.createChecked({},b.nodeAfter))));O.replaceWith(k,i.pos+b.nodeAfter.nodeSize,w)}else O=t.tr.step(new r.b(y.pos,b.pos+b.nodeAfter.nodeSize,b.pos+1,b.pos+b.nodeAfter.nodeSize-1,t.tr.doc.slice(y.pos,b.pos),0,!0));var j=O.doc.resolve(O.mapping.map(b.pos+b.nodeAfter.nodeSize));return j.nodeBefore&&j.nodeAfter&&j.nodeBefore.type===j.nodeAfter.type&&[p,m,v].indexOf(j.nodeBefore.type)>-1&&(O=O.join(j.pos)),n&&n(O.scrollIntoView()),!0}return!1}}function S(e){return function(t,n){var r=t.selection.$from,o=e;o||(o=t.schema.nodes.listItem);var i=Object(d.b)(r);if(!i||!i.nodeBefore||i.nodeBefore.type!==o)return!1;if(1===i.nodeBefore.childCount&&i.nodeBefore.firstChild.nodeSize<=2){var c=t.tr;return n&&n(c.delete(i.pos-i.nodeBefore.nodeSize,r.pos).scrollIntoView()),!0}return!1}}function E(e,t){void 0===t&&(t="UP");var n="DOWN"===t;return Object(d.a)([function(t){var r=Object(a.findParentNodeOfType)(e)(t.selection);if(!r)return!1;var o=r.node,i=t.selection.$from.node(r.depth-1),c=i&&i[n?"lastChild":"firstChild"];return!(!o||c!==o)}],(function(t,r){var o=e;if(o||(o=t.schema.nodes.listItem),!t.selection.empty)return!1;var i=Object(a.findParentNode)((function(e){return Object(d.s)(e.type,t.schema.nodes)}))(t.selection),c=Object(a.findParentNodeOfType)(o)(t.selection);if(!(i&&i.node&&c&&c.node))return!1;if(3===t.selection.$from.depth)return O(o)(t,r);var u=1===i.node.childCount?i:c,s=t.tr.delete(u.pos,u.pos+u.node.nodeSize),f=t.selection.$from.before(-3);if(n){var l=t.selection.$from.after(-3);f=l-u.node.nodeSize;var p=Object(d.t)(l,t.doc)&&t.doc.nodeAt(l);p&&p.type===o&&(f+=p.nodeSize)}var m=c.node;k(t)&&(m=t.schema.nodes.todoItem.createChecked({},m.content,m.marks));var v=Object(a.safeInsert)(m,f)(s);return v!==s&&(r&&r(v),!0)}))}function I(e,t){return function(n,r){var o=n.selection.$from,i=o.node(-1);if(i&&i.type===e){var c=n.tr,a=o.before(-1);if(t(i.attrs)!==i.attrs)return c.setNodeMarkup(a,void 0,t(i.attrs)),r(c),!0}return!1}}function C(e){return function(t,n){var r=t.selection.$from.node(-1);return!(!r||r.type!==e)&&r.attrs}}},156:function(e,t,n){"use strict";n.d(t,"g",(function(){return p.b})),n.d(t,"h",(function(){return p.c})),n.d(t,"j",(function(){return p.i})),n.d(t,"m",(function(){return p.o})),n.d(t,"n",(function(){return p.p})),n.d(t,"o",(function(){return p.t})),n.d(t,"p",(function(){return p.u})),n.d(t,"k",(function(){return p.l})),n.d(t,"i",(function(){return p.g})),n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return M.a})),n.d(t,"f",(function(){return O.a})),n.d(t,"d",(function(){return l.a})),n.d(t,"e",(function(){return l.c})),n.d(t,"l",(function(){return r.b}));var r=n(149),o=(n(160),n(162),n(157)),i=n(144),c=(n(152),n(150),n(151),n(161),n(176),n(177)),a=n(146),u=n(142),s=n(205),d=n(141),f=n(206),l=n(148),p=n(154);function m(e,t,n){var r=void 0===n?{}:n,o=r.editorProps,m=r.defaultPlugins,h=void 0===m||m,g=r.dropCursorOpts,b=r.transformPlugins,y=void 0===b?function(e){return e}:b,O=e.schema,k=v(t,{schema:O,specRegistry:e}),w=k[0],j=k[1];if(h){var M=[];j.has("history")||M.push(p.j.plugins()),j.has("editorStateCounter")||M.push(p.g.plugins()),(w=function(e,t){var n=void 0===t?{}:t,r=n.inputRules,o=void 0===r||r,i=n.undoInputRule,c=void 0===i||i,s=[],d=[];e.forEach((function(e){e instanceof a.a?d.push(e):s.push(e)})),o&&(e=[].concat(s,[Object(a.b)({rules:d})]));c&&e.push(Object(u.b)({Backspace:a.d}));return e}(w=w.concat(v(M,{schema:O,specRegistry:e})[0]))).push(Object(u.b)(d.b),Object(f.a)(g),Object(s.a)())}if(o&&w.push(new l.a({props:o})),(w=y(w=w.filter(Boolean))).some((function(e){return!(e instanceof l.a)})))throw Object(i.b)("You are either using multiple versions of the library or not returning a Plugin class in your plugins. Investigate :",w.find((function(e){return!(e instanceof l.a)}))),new Error("Invalid plugin");return function(e,t){for(var n,r=e.filter((function(e){return e.props&&e.props.nodeViews})),o=new Map,a=Object(c.a)(r);!(n=a()).done;)for(var u=n.value,s=0,d=Object.keys(u.props.nodeViews);s<d.length;s++){var f=d[s];if(!t.schema.nodes[f])throw Object(i.b)("When loading your plugins, we found nodeView implementation for the node '"+f+"' did not have a corresponding spec. Check the plugin:",u,"and your specRegistry",t),new Error("NodeView validation failed. Spec for '"+f+"' not found.");if(o.has(f))throw Object(i.b)("When loading your plugins, we found more than one nodeView implementation for the node '"+f+"'. Bangle can only have a single nodeView implementation, please check the following two plugins",u,o.get(f)),new Error("NodeView validation failed. Duplicate nodeViews for '"+f+"' found.");o.set(f,u)}}(w,e),w}function v(e,t){var n=new Set;return[function e(r){if(Array.isArray(r))return r.flatMap((function(t){return e(t)})).filter(Boolean);if(r instanceof l.b){if(n.has(r.name))throw new Error("Duplicate names of pluginGroups "+r.name+" not allowed.");return n.add(r.name),e(r.plugins)}if("function"==typeof r){if(!t)throw new Error("Found a function but no payload");return e(r(t))}return r}(e),n]}var h=n(140),g=n(185),b=n(143),y=n(145),O=n(159),k=function(e){var t=void 0===e?{}:e,n=t.specRegistry,r=t.specs,o=t.plugins,i=void 0===o?[]:o,c=t.initialValue,a=t.editorProps,u=t.pmStateOpts;if(r&&n)throw new Error("Cannot have both specs and specRegistry defined");n||(n=new O.a(r)),this.specRegistry=n;var s=this.specRegistry.schema;this.pmState=b.EditorState.create(Object.assign({schema:s,doc:w({schema:s,content:c}),plugins:m(n,i,{editorProps:a})},u))},w=function(e){var t=e.schema,n=e.content,r=e.parseOptions;if(null==n)return t.nodeFromJSON({type:"doc",content:[{type:"paragraph"}]});if(n instanceof y.Node)return n;if("object"==typeof n)return t.nodeFromJSON(n);if("string"==typeof n){var o=document.createElement("div");return o.innerHTML=n.trim(),y.DOMParser.fromSchema(t).parse(o,r)}return!1},j=function(){function e(e,t){var n=t.focusOnInit,r=void 0===n||n,o=t.state,i=t.pmViewOpts,c=void 0===i?{}:i;if(this.destroyed=!1,!(o instanceof k))throw new Error("state is required and must be an instance of BangleEditorState");this.view=new g.c(e,Object.assign({state:o.pmState,dispatchTransaction:function(e){var t=this.state.apply(e);this.updateState(t)},attributes:{class:"bangle-editor"}},c)),r&&this.focusView()}var t=e.prototype;return t.focusView=function(){o.b||this.view.focused||this.view.focus()},t.destroy=function(){this.destroyed||(null!==this.view.docView?(this.destroyed=!0,this.view.destroy()):this.destroyed=!0)},t.toHTMLString=function(){return Object(h.r)(this.view.state)},e}(),M=n(158)},157:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=void 0;try{r="production"}catch(c){}var o="production"===r,i="test"===r},158:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d}));var r=n(4),o=n(188),i=n(148),c=n(144),a=function(){},u=new WeakMap,s=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e),t.createPlugin=function(e){var n,r=e.name,o=e.containerDOM,a=e.contentDOM,u=e.renderHandlers;return new i.a({key:new i.c(r+"NodeView"),props:{nodeViews:(n={},n[r]=function(e,n,r,i){var s,d=Object(c.d)(o);return a&&(s=Object(c.d)(a)),new t({node:e,view:n,getPos:r,decorations:i,containerDOM:d,contentDOM:s,renderHandlers:u})},n)}})};var n=t.prototype;return n.update=function(e,t){return a("update node"),this._node.type===e.type&&(this._node===e&&this._decorations===t?(a("update node no change"),!0):(this._node=e,this._decorations=t,a("update node execute"),this.renderHandlers.update(this,this.getNodeViewProps()),!0))},n.selectNode=function(){this.containerDOM.classList.add("ProseMirror-selectednode"),this._selected=!0,a("select node"),this.renderHandlers.update(this,this.getNodeViewProps())},n.deselectNode=function(){this.containerDOM.classList.remove("ProseMirror-selectednode"),this._selected=!1,a("deselectNode node"),this.renderHandlers.update(this,this.getNodeViewProps())},n.ignoreMutation=function(e){return!!this._node.type.isAtom||"selection"!==e.type&&(!this.containerDOM.contains(e.target)&&e.target!==this.contentDOM)},n.destroy=function(){this.renderHandlers.destroy(this,this.getNodeViewProps()),this.containerDOM=void 0,this.contentDOM=void 0},t}(function(){var e=t.prototype;function t(e,t){var n=e.node,r=e.view,o=e.getPos,i=e.decorations,a=e.containerDOM,s=e.contentDOM,d=e.renderHandlers,f=void 0===d?function(e){var t=e.dom.parentNode;return u.get(t)}(r):d,l=(void 0===t?{}:t).selectionSensitive,p=void 0===l||l;if(this._node=n,this._view=r,this._getPos=o,this._decorations=i,this._selected=!1,!f)throw Object(c.b)("It appears the view =",r," was not associated with renderHandlers. You are either using nodeViews accidentally or have incorrectly setup nodeViews"),new Error("You either did not pass the renderHandlers correct or it cannot find render handlers associated with the view.");if(this.renderHandlers=f,this.containerDOM=a,this.contentDOM=s,this.contentDOM&&this.contentDOM.classList.add("bangle-nv-content"),this.containerDOM&&this.containerDOM.classList.add("bangle-nv-container"),this._node.type.isAtom&&this.contentDOM)throw new Error("An atom node cannot have a contentDOM");this.opts={selectionSensitive:p},this.renderHandlers.create(this,this.getNodeViewProps())}return e.getAttrs=function(){return this._node.attrs},e.getNodeViewProps=function(){var e=this;return{node:this._node,view:this._view,getPos:this._getPos,decorations:this._decorations,selected:this._selected,attrs:this._node.attrs,updateAttrs:function(t){var n,r,o;e._view.dispatch((n=e._getPos(),r=e._node,o=t,e._view.state.tr.setNodeMarkup(n,void 0,Object.assign({},r.attrs,o))))}}},Object(o.a)(t,[{key:"dom",get:function(){return this.containerDOM}}]),t}());function d(e,t){if(u.has(e))throw new Error("It looks like renderHandlers were already set by someone else.");u.set(e,t)}},159:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(177),o=n(188),i=n(145),c=n(154),a=n(144),u=function(){function e(e,t){void 0===e&&(e=[]);var n=(void 0===t?{}:t).defaultSpecs,o=void 0===n||n,u=d(e);u.forEach(s);var f=new Set(u.map((function(e){return e.name})));if(u.length!==f.size)throw Object(a.b)("The specRegistry has one or more specs with the same name",u),new Error("Duplicate spec error, please check your specRegistry");if(o){var l=[];f.has("paragraph")||l.unshift(c.q.spec()),f.has("text")||l.unshift(c.s.spec()),f.has("doc")||l.unshift(c.f.spec()),u=[].concat(d(l),u)}this._spec=u,this._schema=function(e){for(var t,n,o=[],c=[],a=Object(r.a)(e);!(n=a()).done;){var u=n.value;if("node"===u.type)o.push([u.name,u.schema]);else if("mark"===u.type)c.push([u.name,u.schema]);else if("component"!==u.type)throw new Error(u.name+" unknown type: "+u.type);!0===u.topNode&&(t=u.name)}return new i.Schema({topNode:t,nodes:Object.fromEntries(o),marks:Object.fromEntries(c)})}(this._spec),this._options=Object.fromEntries(this._spec.filter((function(e){return e.options})).map((function(e){return[e.name,e.options]})))}return Object(o.a)(e,[{key:"spec",get:function(){return this._spec}},{key:"schema",get:function(){return this._schema}},{key:"options",get:function(){return this._options}}]),e}();function s(e){if(!e.name)throw Object(a.b)("The spec didn't have a name field",e),new Error("Invalid spec. Spec must have a name");if(!["node","mark","component"].includes(e.type))throw Object(a.b)("The spec must be of type node, mark or component ",e),new Error("Invalid spec type");if(["node","mark"].includes(e.type)&&!e.schema)throw Object(a.b)("The spec of type 'mark' or 'node' must have a schema field",e),new Error("Invalid spec schema")}function d(e){return function e(t){return Array.isArray(t)?t.flatMap((function(t){return e(t)})).filter(Boolean):t}(e)}},160:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n(154);function o(){return[].concat([r.b.spec(),r.d.spec(),r.m.spec(),r.r.spec(),r.n.spec(),r.v.spec()],[r.f.spec(),r.s.spec(),r.q.spec(),r.a.spec(),r.c.spec(),r.e.spec(),r.h.spec(),r.i.spec(),r.k.spec(),r.o.spec(),r.p.spec(),r.t.spec(),r.u.spec(),r.l.spec()])}function i(){return[r.b.plugins(),r.d.plugins(),r.m.plugins(),r.r.plugins(),r.n.plugins(),r.v.plugins(),r.q.plugins(),r.a.plugins(),r.c.plugins(),r.e.plugins(),r.h.plugins(),r.i.plugins(),r.k.plugins(),r.o.plugins(),r.p.plugins(),r.t.plugins(),r.u.plugins(),r.l.plugins(),r.j.plugins()]}},161:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(4),o=n(207),i=0,c=new(function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.get=function(t){var n=e.prototype.get.call(this,t);return n||(n=(i++).toString(),this.set(t,n),n)},t}(Object(o.a)(WeakMap)))},162:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(144);function o(e,t){var n=void 0===t?{}:t,o=n.tag,i=void 0===o?"div":o,c=n.content,a=n.ignoreAttrs,u=void 0===a?[]:a,s=n.parsingPriority,d=function(e){return JSON.stringify(Object(r.f)(e.attrs||{},(function(e,t){return!u.includes(t)})))};return{toDOM:function(t){var n=[i,{"data-bangle-name":e,"data-bangle-attrs":d(t)}];return void 0!==c&&("function"==typeof c?n.push(c(t)):n.push(c)),n},parseDOM:[{priority:void 0===s?51:s,tag:i+'[data-bangle-name="'+e+'"]',getAttrs:function(e){var t=e.getAttribute("data-bangle-attrs");return t?JSON.parse(t):{}}}]}}},164:function(e,t,n){"use strict";n.r(t),n.d(t,"spec",(function(){return c})),n.d(t,"plugins",(function(){return a})),n.d(t,"commands",(function(){return u})),n.d(t,"createLink",(function(){return p})),n.d(t,"updateLink",(function(){return m})),n.d(t,"queryLinkAttrs",(function(){return v})),n.d(t,"queryIsLinkAllowedInRange",(function(){return h})),n.d(t,"queryIsLinkActive",(function(){return g})),n.d(t,"queryIsSelectionAroundLink",(function(){return b}));var r=n(143),o=n(144),i=n(140),c=function(e){var t=(void 0===e?{}:e).openOnClick;return{type:"mark",name:s,schema:{attrs:{href:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(e){return{href:e.getAttribute("href")}}}],toDOM:function(e){return["a",Object.assign({},e.attrs,{rel:"noopener noreferrer nofollow"}),0]}},markdown:{toMarkdown:{open:function(e,t,n,r){return f(t,n,r,1)?"<":"["},close:function(e,t,n,r){return f(t,n,r,-1)?">":"]("+e.esc(t.attrs.href)+(t.attrs.title?" "+e.quote(t.attrs.title):"")+")"}},parseMarkdown:{link:{mark:"link",getAttrs:function(e){return{href:e.attrGet("href"),title:e.attrGet("title")||null}}}}},options:{openOnClick:void 0!==t&&t}}},a=function(){return function(e){var t,n=e.schema,c=e.specRegistry.options.link.openOnClick,a=function(e){return e.marks.link}(n);return[(t=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-zA-Z]{2,}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/g,new r.Plugin({props:{handlePaste:function(e,n,r){var i=n;if(!i.clipboardData)return!1;var c=i.clipboardData.getData("text/plain"),a=i.clipboardData.getData("text/html"),u=c&&!a;if(!u||e.state.selection.empty)return!1;var s=e.state,d=e.dispatch,f=Object(o.e)(t,c),l=1===f.length&&f.every((function(e){return e.match}));return!!l&&p(c)(s,d)}}})),d(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-zA-Z]{2,}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/g,a,(function(e){return{href:e}})),c&&new r.Plugin({props:{handleClick:function(e,t,n){var r=e.state.schema,o=Object(i.f)(e.state,r.marks.link);o.href&&n.target instanceof HTMLAnchorElement&&(n.stopPropagation(),window.open(o.href))}}})]}},u={createLink:p,updateLink:m,queryLinkAttrs:v,queryIsLinkAllowedInRange:h,queryIsLinkActive:g,queryIsSelectionAroundLink:b},s="link";function d(e,t,n){return new r.Plugin({props:{transformPasted:function(r){return Object(i.o)(r,(function(r){if(!r.isText)return r;var i=r.text;return Object(o.e)(e,i).map((function(e){var o=e.start,i=e.end,c=e.match,a=e.subString,u=r.cut(o,i);if(c){var s=n instanceof Function?n(a):n;u=u.mark(t.create(s).addToSet(r.marks))}return u}))}))}}})}function f(e,t,n,r){if(e.attrs.title||!/^\w+:/.test(e.attrs.href))return!1;var o=t.child(n+(r<0?-1:0));if(!o.isText||o.text!==e.attrs.href||o.marks[o.marks.length-1]!==e)return!1;if(n===(r<0?1:t.childCount-1))return!0;var i=t.child(n+(r<0?-2:1));return!e.isInSet(i.marks)}function l(e,t,n){return n=n&&n.trim(),Object(i.a)((function(t){return(n=e,function(e){var t=e.doc.nodeAt(n);return!!t&&t.isText})(t);var n}),(function(r,o){var i=r.schema.marks.link,c=r.tr.removeMark(e,t,i);if(n){var a=r.schema.marks.link.create({href:n});c.addMark(e,t,a)}return o&&o(c),!0}))}function p(e){return Object(i.a)((function(e){return h(e.selection.$from.pos,e.selection.$to.pos)(e)}),(function(t,n){var r=[t.selection.$from.pos,t.selection.$to.pos],o=r[0],i=r[1],c=t.schema.marks.link,a=t.tr.removeMark(o,i,c);if(e.trim()){var u=t.schema.marks.link.create({href:e});a.addMark(o,i,u)}return n&&n(a),!0}))}function m(e){return function(t,n){if(!t.selection.empty)return l(t.selection.$from.pos,t.selection.$to.pos,e)(t,n);var r=t.selection.$from,o=r.pos-r.textOffset,i=t.doc.nodeAt(o),c=o;return i&&(c+=i.nodeSize),l(o,c,e)(t,n)}}function v(){return function(e){var t=e.selection.$from,n=t.pos-t.textOffset,r=e.doc.resolve(n),o=e.doc.nodeAt(n),i=r.nodeAfter;if(i){var c=e.schema.marks.link.isInSet(i.marks||[]);return c?{href:c.attrs.href,text:o.textContent}:void 0}}}function h(e,t){return function(n){var r=n.doc.resolve(e),o=n.doc.resolve(t),i=n.schema.marks.link;if(r.parent===o.parent&&r.parent.isTextblock)return r.parent.type.allowsMarkType(i)}}function g(){return function(e){return!!e.doc.type.schema.marks.link.isInSet(e.selection.$from.marks())}}function b(){return function(e){var t=e.selection,n=t.$from,r=t.$to,o=n.nodeAfter;return!!o&&0===n.textOffset&&r.pos-n.pos===o.nodeSize&&!!e.doc.type.schema.marks.link.isInSet(o.marks)}}},167:function(e,t,n){"use strict";n.r(t),n.d(t,"spec",(function(){return u})),n.d(t,"plugins",(function(){return s})),n.d(t,"commands",(function(){return d})),n.d(t,"defaultKeys",(function(){return f})),n.d(t,"toggleBold",(function(){return p})),n.d(t,"queryIsBoldActive",(function(){return m}));var r=n(141),o=n(142),i=n(150),c=n(151),a=n(140),u=function(e){void 0===e&&(e={});return{type:"mark",name:l,schema:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(e){return"normal"!==e.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(e){return/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}}],toDOM:function(){return["strong",0]}},markdown:{toMarkdown:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},parseMarkdown:{strong:{mark:l}}}}},s=function(e){var t=void 0===e?{}:e,n=t.markdownShortcut,r=void 0===n||n,a=t.keybindings,u=void 0===a?f:a;return function(e){var t,n=function(e){return e.marks.bold}(e.schema);return[r&&Object(c.a)(/(?:\*\*|__)([^*_]+)(?:\*\*|__)/g,n),r&&Object(i.a)(/(?:\*\*|__)([^*_]+)(?:\*\*|__)$/,n),u&&Object(o.b)((t={},t[u.toggleBold]=p(),t))]}},d={toggleBold:p,queryIsBoldActive:m},f={toggleBold:"Mod-b"},l="bold";function p(){return function(e,t,n){return Object(r.f)(e.schema.marks.bold)(e,t,n)}}function m(){return function(e){return Object(a.k)(e.schema.marks.bold)(e)}}},168:function(e,t,n){"use strict";n.r(t),n.d(t,"spec",(function(){return s})),n.d(t,"plugins",(function(){return d})),n.d(t,"commands",(function(){return f})),n.d(t,"defaultKeys",(function(){return l})),n.d(t,"toggleCode",(function(){return O})),n.d(t,"queryIsCodeActive",(function(){return k}));var r=n(141),o=n(150),i=n(151),c=n(140),a=n(142),u=n(143),s=function(e){void 0===e&&(e={});return{type:"mark",name:p,schema:{excludes:"_",parseDOM:[{tag:p}],toDOM:function(){return[p,0]}},markdown:{toMarkdown:{open:function(e,t,n,r){return b(n.child(r),-1)},close:function(e,t,n,r){return b(n.child(r-1),1)},escape:!1},parseMarkdown:{code_inline:{mark:p,noCloseToken:!0}}}}},d=function(e){var t=void 0===e?{}:e,n=t.markdownShortcut,u=void 0===n||n,s=t.escapeAtEdge,d=void 0===s||s,f=t.keybindings,p=void 0===f?l:f;return function(e){var t,n=function(e){return e.marks.code}(e.schema),s=[function(e){return e.selection.empty&&e.selection.$cursor}];return[u&&Object(i.a)(/(?:`)([^`]+)(?:`)/g,n),u&&Object(o.a)(/(?:`)([^`]+)(?:`)$/,n),p&&Object(a.b)((t={},t[p.toggleCode]=Object(r.f)(n),t)),d&&Object(a.b)({ArrowRight:Object(c.a)(s,h),ArrowLeft:Object(c.a)(s,g)})]}},f={toggleCode:O,queryIsCodeActive:k},l={toggleCode:"Mod-`"},p="code",m=function(e){return e.schema.marks.code};var v=function(e,t){if(t<0||t>e.doc.content.size)return!1;var n=m(e),r=e.doc.nodeAt(t);return!!r&&r.marks.some((function(e){return e.type===n}))};function h(e,t,n){var r=e.schema.marks.code,o=e.selection.$cursor,i=e.tr.storedMarks,c=y(e,r),a=e.doc.rangeHasMark(o.pos,o.pos,r),u=e.doc.rangeHasMark(o.pos,o.pos+1,r),s=!a&&u&&!(i&&i.length>0);if(!c&&s)return t&&t(e.tr.addStoredMark(r.create())),!0;var d=!(a||u||i&&0===i.length);return!(!c||!d)&&(t&&t(e.tr.removeStoredMark(r)),!0)}function g(e,t,n){var r=m(e),o=y(e,r),i=e.selection.$cursor,c=e.tr.storedMarks,a=v(e,i.pos),s=v(e,i.pos-1),d=v(e,i.pos-2),f=a&&!s&&Array.isArray(c),l=s&&!d&&(null===c||Array.isArray(c)&&!!c.length),p=(f&&Array.isArray(c)&&!c.length||!f&&null===c)&&!s&&d,h=!a&&s&&Array.isArray(c)&&!c.length;if(!o&&p){var g=e.tr.setSelection(u.Selection.near(e.doc.resolve(i.pos-1)));return t&&t(g.removeStoredMark(r)),!0}if(!o&&h)return t&&t(e.tr.addStoredMark(r.create())),!0;if(o&&l){var b=e.tr.setSelection(u.Selection.near(e.doc.resolve(i.pos-1)));return t&&t(b.addStoredMark(r.create())),!0}var O=0===i.index(i.depth-1);return o&&(f||!i.nodeBefore&&O)?(t&&t(e.tr.removeStoredMark(r)),!0):void 0}function b(e,t){var n,r=/`+/g,o=0;if(e.isText)for(;n=r.exec(e.text);)o=Math.max(o,n[0].length);for(var i=o>0&&t>0?" `":"`",c=0;c<o;c++)i+="`";return o>0&&t<0&&(i+=" "),i}function y(e,t){var n=e.selection,r=n.from,o=n.to;if(n.empty)return!!t.isInSet(e.tr.storedMarks||e.selection.$from.marks());var i=!1;return e.doc.nodesBetween(r,o,(function(e){i=i||t.isInSet(e.marks)})),i}function O(){return function(e,t,n){return Object(r.f)(e.schema.marks.code)(e,t,n)}}function k(){return function(e){return Object(c.k)(e.schema.marks.code)(e)}}},169:function(e,t,n){"use strict";n.r(t),n.d(t,"spec",(function(){return u})),n.d(t,"plugins",(function(){return s})),n.d(t,"commands",(function(){return d})),n.d(t,"defaultKeys",(function(){return f})),n.d(t,"toggleItalic",(function(){return p})),n.d(t,"queryIsItalicActive",(function(){return m}));var r=n(150),o=n(151),i=n(141),c=n(140),a=n(142),u=function(e){void 0===e&&(e={});return{type:"mark",name:l,schema:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return["em",0]}},markdown:{toMarkdown:{open:"_",close:"_",mixable:!0,expelEnclosingWhitespace:!0},parseMarkdown:{em:{mark:l}}}}},s=function(e){var t=(void 0===e?{}:e).keybindings,n=void 0===t?f:t;return function(e){var t,c=function(e){return e.marks[l]}(e.schema);return[Object(o.a)(/_([^_]+)_/g,c),Object(o.a)(/\*([^*]+)\*/g,c),Object(r.a)(/(?:^|[^_])(_([^_]+)_)$/,c),Object(r.a)(/(?:^|[^*])(\*([^*]+)\*)$/,c),n&&Object(a.b)((t={},t[n.toggleItalic]=Object(i.f)(c),t))]}},d={toggleItalic:p,queryIsItalicActive:m},f={toggleItalic:"Mod-i"},l="italic";function p(){return function(e,t,n){return Object(i.f)(e.schema.marks[l])(e,t,n)}}function m(){return function(e){return Object(c.k)(e.schema.marks[l])(e)}}},170:function(e,t,n){"use strict";n.r(t),n.d(t,"spec",(function(){return s})),n.d(t,"plugins",(function(){return d})),n.d(t,"commands",(function(){return f})),n.d(t,"defaultKeys",(function(){return l})),n.d(t,"convertToParagraph",(function(){return v})),n.d(t,"jumpToStartOfParagraph",(function(){return h})),n.d(t,"jumpToEndOfParagraph",(function(){return g})),n.d(t,"queryIsTopLevelParagraph",(function(){return b})),n.d(t,"queryIsParagraph",(function(){return y}));var r=n(141),o=n(143),i=n(140),c=n(152),a=n(147),u=n(149),s=function(e){void 0===e&&(e={});return{type:"node",name:p,schema:{content:"inline*",group:"block",draggable:!1,parseDOM:[{tag:"p"}],toDOM:function(){return["p",0]}},markdown:{toMarkdown:function(e,t){e.renderInline(t),e.closeBlock(t)},parseMarkdown:{paragraph:{block:"paragraph"}}}}},d=function(e){var t=(void 0===e?{}:e).keybindings,n=void 0===t?l:t;return function(e){var t,r=e.schema,o=m(r),u=Object(a.d)(o,r.nodes.doc);return[n&&Object(c.b)((t={},t[n.convertToParagraph]=v(),t[n.moveUp]=Object(i.a)(u,Object(a.c)(o,"UP")),t[n.moveDown]=Object(i.a)(u,Object(a.c)(o,"DOWN")),t[n.jumpToStartOfParagraph]=h(),t[n.jumpToEndOfParagraph]=g(),t[n.emptyCopy]=Object(i.a)(u,Object(a.a)(o)),t[n.emptyCut]=Object(i.a)(u,Object(a.b)(o)),t[n.insertEmptyParaAbove]=Object(i.a)(u,Object(i.h)(o,"above")),t[n.insertEmptyParaBelow]=Object(i.a)(u,Object(i.h)(o,"below")),t))]}},f={convertToParagraph:v,jumpToStartOfParagraph:h,jumpToEndOfParagraph:g,queryIsParagraph:y,queryIsTopLevelParagraph:b},l={jumpToEndOfParagraph:u.a.mac?"Ctrl-e":"Ctrl-End",jumpToStartOfParagraph:u.a.mac?"Ctrl-a":"Ctrl-Home",moveDown:"Alt-ArrowDown",moveUp:"Alt-ArrowUp",emptyCopy:"Mod-c",emptyCut:"Mod-x",insertEmptyParaAbove:"Mod-Shift-Enter",insertEmptyParaBelow:"Mod-Enter",convertToParagraph:"Ctrl-Shift-0"},p="paragraph",m=function(e){return e.nodes[p]};function v(){return function(e,t){return Object(r.e)(m(e.schema))(e,t)}}function h(){return function(e,t){var n=m(e.schema),r=Object(i.d)(n)(e.selection);if(!r)return!1;var c=r.start;return t(e.tr.setSelection(o.TextSelection.create(e.doc,c))),!0}}function g(){return function(e,t){var n=m(e.schema),r=Object(i.d)(n)(e.selection);if(!r)return!1;var c=r.node,a=r.start;return t(e.tr.setSelection(o.TextSelection.create(e.doc,a+c.content.size))),!0}}function b(){return function(e){var t=m(e.schema);return Object(a.d)(t,e.schema.nodes.doc)(e)}}function y(){return function(e){var t=m(e.schema);return Boolean(Object(i.d)(t)(e.selection))}}},171:function(e,t,n){"use strict";n.r(t),n.d(t,"spec",(function(){return u})),n.d(t,"plugins",(function(){return s})),n.d(t,"commands",(function(){return d})),n.d(t,"defaultKeys",(function(){return f})),n.d(t,"queryIsBlockquoteActive",(function(){return m})),n.d(t,"wrapInBlockquote",(function(){return v}));var r=n(146),o=n(141),i=n(142),c=n(147),a=n(140),u=function(e){void 0===e&&(e={});return{type:"node",name:l,schema:{content:"block*",group:"block",defining:!0,draggable:!1,parseDOM:[{tag:"blockquote"}],toDOM:function(){return["blockquote",0]}},markdown:{toMarkdown:function(e,t){e.wrapBlock("> ",null,t,(function(){return e.renderContent(t)}))},parseMarkdown:{blockquote:{block:l}}}}},s=function(e){var t=void 0===e?{}:e,n=t.markdownShortcut,o=void 0===n||n,u=t.keybindings,s=void 0===u?f:u;return function(e){var t,n=e.schema,u=p(n),d=m();return[o&&Object(r.e)(/^\s*>\s$/,u),s&&Object(i.b)((t={},t[s.wrapIn]=v(),t[s.moveUp]=Object(c.c)(u,"UP"),t[s.moveDown]=Object(c.c)(u,"DOWN"),t[s.emptyCopy]=Object(c.a)(u),t[s.emptyCut]=Object(c.b)(u),t[s.insertEmptyParaAbove]=Object(a.a)(d,Object(a.h)(n.nodes.paragraph,"above",!0)),t[s.insertEmptyParaBelow]=Object(a.a)(d,Object(a.h)(n.nodes.paragraph,"below",!0)),t))]}},d={queryIsBlockquoteActive:m,wrapInBlockquote:v},f={wrapIn:"Ctrl-ArrowRight",moveDown:"Alt-ArrowDown",moveUp:"Alt-ArrowUp",emptyCopy:"Mod-c",emptyCut:"Mod-x",insertEmptyParaAbove:"Mod-Shift-Enter",insertEmptyParaBelow:"Mod-Enter"},l="blockquote",p=function(e){return e.nodes[l]};function m(){return function(e){var t=p(e.schema);return Boolean(Object(a.d)(t)(e.selection))}}function v(){return Object(a.a)((function(e){return!m()(e)}),(function(e,t,n){var r=p(e.schema);return Object(o.g)(r)(e,t,n)}))}},172:function(e,t,n){"use strict";n.r(t),n.d(t,"spec",(function(){return a})),n.d(t,"plugins",(function(){return u})),n.d(t,"commands",(function(){return s})),n.d(t,"defaultKeys",(function(){return d})),n.d(t,"toggleBulletList",(function(){return l})),n.d(t,"queryIsBulletListActive",(function(){return p}));var r=n(142),o=n(146),i=n(147),c=n(155),a=function(e){void 0===e&&(e={});return{type:"node",name:f,schema:{content:"listItem+",group:"block",parseDOM:[{tag:"ul"}],toDOM:function(){return["ul",0]}},markdown:{toMarkdown:function(e,t){e.renderList(t,"  ",(function(){return(t.attrs.bullet||"-")+" "}))},parseMarkdown:{bullet_list:{block:f}}}}},u=function(e){var t=void 0===e?{}:e,n=t.markdownShortcut,i=void 0===n||n,a=t.keybindings,u=void 0===a?d:a;return function(e){var t,n=e.schema,a=function(e){return e.nodes[f]}(n);return[u&&Object(r.b)((t={},t[u.toggle]=Object(c.g)(a,n.nodes.listItem),t)),i&&Object(o.e)(/^\s*([-+*])\s$/,a)]}},s={toggleBulletList:l,queryIsBulletListActive:p},d={toggle:"Shift-Ctrl-8"},f="bulletList";function l(){return function(e,t,n){return Object(c.g)(e.schema.nodes.bulletList,e.schema.nodes.listItem)(e,t,n)}}function p(){return function(e){var t=e.schema;return Object(i.d)(t.nodes.listItem,[t.nodes.bulletList])(e)}}},173:function(e,t,n){"use strict";n.r(t),n.d(t,"spec",(function(){return u})),n.d(t,"plugins",(function(){return s})),n.d(t,"commands",(function(){return d})),n.d(t,"defaultKeys",(function(){return f})),n.d(t,"toggleHeading",(function(){return v})),n.d(t,"queryIsHeadingActive",(function(){return h}));var r=n(141),o=n(146),i=n(152),c=n(147),a=n(140),u=function(e){var t=(void 0===e?{}:e).levels,n=void 0===t?p:t;if(n.some((function(e){return"number"!=typeof e})))throw new Error("levels must be number");return{type:"node",name:l,schema:{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,draggable:!1,parseDOM:n.map((function(e){return{tag:"h"+e,attrs:{level:m(e)}}})),toDOM:function(e){return["h"+e.attrs.level,{},0]}},markdown:{toMarkdown:function(e,t){e.write(e.repeat("#",t.attrs.level)+" "),e.renderInline(t),e.closeBlock(t)},parseMarkdown:{heading:{block:l,getAttrs:function(e){return{level:m(e.tag.slice(1))}}}}},options:{levels:n}}},s=function(e){var t=void 0===e?{}:e,n=t.markdownShortcut,u=void 0===n||n,s=t.keybindings,d=void 0===s?f:s;return function(e){var t,n=e.schema,s=e.specRegistry.options[l].levels,f=function(e){return e.nodes[l]}(n),p=function(e){return Object(a.d)(f)(e.selection)},m=Object.fromEntries(s.map((function(e){return[d["toH"+e],Object(r.e)(f,{level:e})]})));return[d&&Object(i.b)(Object.assign({},m,(t={},t[d.moveUp]=Object(c.c)(f,"UP"),t[d.moveDown]=Object(c.c)(f,"DOWN"),t[d.emptyCopy]=Object(c.a)(f),t[d.emptyCut]=Object(c.b)(f),t[d.insertEmptyParaAbove]=Object(a.a)(p,Object(a.h)(n.nodes.paragraph,"above",!1)),t[d.insertEmptyParaBelow]=Object(a.a)(p,Object(a.h)(n.nodes.paragraph,"below",!1)),t)))].concat((u?s:[]).map((function(e){return Object(o.c)(new RegExp("^(#{1,"+e+"})\\s$"),f,(function(){return{level:e}}))})))}},d={toggleHeading:v,queryIsHeadingActive:h},f={toH1:"Shift-Ctrl-1",toH2:"Shift-Ctrl-2",toH3:"Shift-Ctrl-3",toH4:"Shift-Ctrl-4",toH5:"Shift-Ctrl-5",toH6:"Shift-Ctrl-6",moveDown:"Alt-ArrowDown",moveUp:"Alt-ArrowUp",emptyCopy:"Mod-c",emptyCut:"Mod-x",insertEmptyParaAbove:"Mod-Shift-Enter",insertEmptyParaBelow:"Mod-Enter"},l="heading",p=[1,2,3,4,5,6],m=function(e){return e=parseInt(e,10),Number.isNaN(e)?void 0:e};function v(e){return void 0===e&&(e=3),function(t,n,o){return h(e)(t)?Object(r.e)(t.schema.nodes.paragraph)(t,n,o):Object(r.e)(t.schema.nodes[l],{level:e})(t,n,o)}}function h(e){return function(t){var n=Object(a.d)(t.schema.nodes[l])(t.selection);if(!n)return!1;var r=n.node;return null==e||r.attrs.level===e}}},174:function(e,t,n){"use strict";n.r(t),n.d(t,"spec",(function(){return a})),n.d(t,"plugins",(function(){return u})),n.d(t,"commands",(function(){return s})),n.d(t,"defaultKeys",(function(){return d})),n.d(t,"toggleOrderedList",(function(){return l})),n.d(t,"queryIsOrderedListActive",(function(){return p}));var r=n(155),o=n(146),i=n(142),c=n(147),a=function(e){void 0===e&&(e={});return{type:"node",name:f,schema:{attrs:{order:{default:1}},content:"listItem+",group:"block",parseDOM:[{tag:"ol",getAttrs:function(e){return{order:e.hasAttribute("start")?+e.getAttribute("start"):1}}}],toDOM:function(e){return 1===e.attrs.order?["ol",0]:["ol",{start:e.attrs.order},0]}},markdown:{toMarkdown:function(e,t){var n=t.attrs.order||1,r=String(n+t.childCount-1).length,o=e.repeat(" ",r+2);e.renderList(t,o,(function(t){var o=String(n+t);return e.repeat(" ",r-o.length)+o+". "}))},parseMarkdown:{ordered_list:{block:f}}}}},u=function(e){var t=(void 0===e?{}:e).keybindings,n=void 0===t?d:t;return function(e){var t,c=function(e){return e.nodes[f]}(e.schema);return[Object(o.e)(/^(1)[\.\)] $/,c,(function(e){return{order:+e[1]}}),(function(e,t){return t.childCount+t.attrs.order===+e[1]})),n&&Object(i.b)((t={},t[n.toggle]=Object(r.g)(c),t))]}},s={},d={toggle:"Shift-Ctrl-9"},f="orderedList";function l(){return function(e,t,n){return Object(r.g)(e.schema.nodes.orderedList,e.schema.nodes.listItem)(e,t,n)}}function p(){return function(e){var t=e.schema;return Object(c.d)(t.nodes.listItem,[t.nodes[f]])(e)}}},175:function(e,t,n){"use strict";n.r(t),n.d(t,"spec",(function(){return u})),n.d(t,"plugins",(function(){return s})),n.d(t,"commands",(function(){return d})),n.d(t,"defaultKeys",(function(){return f})),n.d(t,"toggleTodoList",(function(){return l})),n.d(t,"queryIsTodoListActive",(function(){return p}));var r=n(146),o=n(155),i=n(142),c=n(147),a="todoList",u=function(e){void 0===e&&(e={});return{type:"node",name:a,schema:{group:"block",content:"todoItem+",toDOM:function(){return["ul",{"data-bangle-name":a},0]},parseDOM:[{priority:51,tag:'[data-bangle-name="todoList"]'}]},markdown:{toMarkdown:function(e,t){e.renderList(t,"  ",(function(){return"- "}))},parseMarkdown:{todo_list:{block:a}}}}},s=function(e){var t=void 0===e?{}:e,n=t.keybindings,c=void 0===n?f:n,u=t.markdownShortcut,s=void 0===u||u;return function(e){var t,n=e.schema,u=function(e){return e.nodes[a]}(n);return[s&&Object(r.e)(/^\s*(\[ \])\s$/,u),c&&Object(i.b)((t={},t[c.toggle]=Object(o.g)(u,n.nodes.todoItem),t))]}},d={toggleTodoList:l,queryIsTodoListActive:p},f={toggle:"Shift-Ctrl-7"};function l(){return function(e,t,n){var r=e.schema;return Object(o.g)(r.nodes[a],r.nodes.todoItem)(e,t,n)}}function p(){return function(e){var t=e.schema;return Object(c.d)(t.nodes.todoItem,t.nodes[a])(e)}}},176:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(144),o=n(148);function i(){var e=new WeakMap;return{get:function(t,n){c(t);var o=e.get(t);if(!o||!o[n]||!n)throw Object(r.b)("There is no key named "+n+" associated with the pluginKey =",t,"\nPlease make sure you are passing the pluginKey correctly to your components."),new Error("Cannot find the pluginKey '"+n+"'");return e.get(t)[n]},create:function(t,n){c(t);var r=new o.c(n);if(e.has(t)){var i=e.get(t);if(i[n])return i[n];i[n]=r}else{var a;e.set(t,((a={})[n]=r,a))}return r}}}function c(e){if(!(e instanceof o.c))throw Object(r.b)("The key is not a valid pluginKey",e),new Error("Please pass a valid plugin key")}},178:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(4),o=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t}(n(143).Selection)},180:function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(194),c=n(166),a=n(54),u=n.n(a),s=37,d=39;t.a=function(e){var t=e.lazy,n=e.block,a=e.children,f=e.defaultValue,l=e.values,p=e.groupId,m=e.className,v=Object(i.a)(),h=v.tabGroupChoices,g=v.setTabGroupChoices,b=Object(r.useState)(f),y=b[0],O=b[1];if(null!=p){var k=h[p];null!=k&&k!==y&&l.some((function(e){return e.value===k}))&&O(k)}var w=function(e){O(e),null!=p&&g(p,e)},j=[];return o.a.createElement("div",null,o.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(c.a)("tabs",{"tabs--block":n},m)},l.map((function(e){var t=e.value,n=e.label;return o.a.createElement("li",{role:"tab",tabIndex:0,"aria-selected":y===t,className:Object(c.a)("tabs__item",u.a.tabItem,{"tabs__item--active":y===t}),key:t,ref:function(e){return j.push(e)},onKeyDown:function(e){!function(e,t,n){switch(n.keyCode){case d:!function(e,t){var n=e.indexOf(t)+1;e[n]?e[n].focus():e[0].focus()}(e,t);break;case s:!function(e,t){var n=e.indexOf(t)-1;e[n]?e[n].focus():e[e.length-1].focus()}(e,t)}}(j,e.target,e)},onFocus:function(){return w(t)},onClick:function(){w(t)}},n)}))),t?Object(r.cloneElement)(a.filter((function(e){return e.props.value===y}))[0],{className:"margin-vert--md"}):o.a.createElement("div",{className:"margin-vert--md"},a.map((function(e,t){return Object(r.cloneElement)(e,{key:t,hidden:e.props.value!==y})}))))}},181:function(e,t,n){"use strict";var r=n(3),o=n(0),i=n.n(o);t.a=function(e){var t=e.children,n=e.hidden,o=e.className;return i.a.createElement("div",Object(r.a)({role:"tabpanel"},{hidden:n,className:o}),t)}},191:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return h}));var r=n(4),o=n(0),i=n.n(o),c=n(1),a=n.n(c),u=n(195),s=n(180),d=n(181),f=n(199);function l(e){var t=e.filePath,n=e.language,r=e.createEditor,c=e.defaultTab,a=void 0===c?"example":c,u=e.onEditorReady,s=void 0===u?function(){}:u,d=e.SideCar,f=Object(o.useRef)(r),l=Object(o.useState)(!1),v=l[0],h=l[1],g=Object(o.useCallback)((function(){return i.a.createElement(p,{createEditor:f.current,onReady:h})}),[f,h]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(m,{filePath:t,language:n,component:g,defaultTab:a}),v?s(v):null,v&&d?i.a.createElement(d,{editor:v}):null)}function p(e){var t=e.createEditor,n=e.onReady,r=Object(o.useRef)();return Object(o.useEffect)((function(){var e=t(r.current);return n(e),function(){e.destroy()}}),[t,n]),i.a.createElement("div",{ref:r})}function m(e){var t=e.filePath,n=e.language,r=e.component,o=e.defaultTab,c=void 0===o?"example":o;return i.a.createElement(g,null,i.a.createElement(s.a,{defaultValue:c,values:[{label:"Example",value:"example"},{label:"Source code",value:"src"}]},i.a.createElement(d.a,{value:"example"},i.a.createElement(f.a,null,r)),i.a.createElement(d.a,{value:"src"},i.a.createElement(v,{filePath:t,language:n}))))}function v(e){var t=e.filePath,n=e.language,r=void 0===n?"js":n,c=Object(o.useState)(),a=c[0],s=c[1];return Object(o.useEffect)((function(){var e=!1;return function(e){return fetch(e).then((function(e){return e.text()}))}(t).then((function(t){e||s(t)})).catch((function(n){console.error(n),e||s("Error: Could not load source code at "+t)})),function(){e=!0}}),[s,t]),a?i.a.createElement(u.a,{className:"language-"+r},a):"loading..."}function h(e){var t="",n="";return e.split(/>\s*</).forEach((function(e){e.match(/^\/\w/)&&(n=n.substring("  ".length)),t+=n+"<"+e+">\r\n",e.match(/^<?\w[^>]*[^\/]$/)&&(n+="  ")})),t.substring(1,t.length-3)}m.propTypes={component:a.a.func.isRequired,language:a.a.string,filePath:a.a.string.isRequired};var g=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={hasError:!1},t}return Object(r.a)(t,e),t.getDerivedStateFromError=function(e){return{hasError:!0}},t.prototype.render=function(){return this.state.hasError?i.a.createElement("div",{style:{margin:"2rem 2rem",padding:"1rem 2rem",backgroundColor:"red",color:"white"}},"Whoops! There was an error loading this example, please file a github issue to report it"):this.props.children},t}(i.a.PureComponent)}}]);